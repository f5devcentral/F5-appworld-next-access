<!DOCTYPE html>
<head>
  
  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-PPZPQ6');</script>
  <!-- End Google Tag Manager -->
    <title>Lab 3.3: Deploy Juice-shop Web App to Production ENV and run DAST</title>
  

  <meta charset="utf-8">
  <!-- Twitter Bootstrap viewport setting -->
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <!-- F5 metadata -->
  <meta name="title" content="Lab 3.3: Deploy Juice-shop Web App to Production ENV and run DAST"/>
  <meta name="product" content="F5 Web Application Firewall Solutions"/>
  <meta name="version" content=""/>
  <meta name="updated_date"  content="2023-05-04 07:11:03"/>
  <meta name="archived" content="Archived documents excluded"/>
  <meta name="doc_type" content="Manual"/>
  <meta name="lifecycle" content="release"/>
  <meta name="F5 Web Application Firewall Solutions" content=""/>


  

  
  <link href="https://cdn.f5.com/favicon.ico" rel="icon">

</head>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Lab 3.3: Deploy Juice-shop Web App to Production ENV and run DAST &#8212; F5 Web Application Firewall Solutions  documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" href="../../_static/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/f5.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/f5-theme.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/CoveoFullSearch.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/custom.css" type="text/css" />
    <link rel="stylesheet" href="https://use.fontawesome.com/21fb8a09c3.css" type="text/css" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/sphinx_highlight.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Review" href="review.html" />
    <link rel="prev" title="Lab 3.2: Apply WAF suggestions for trusted traffic" href="lab2.html" /> 
  </head><body>
  <div id="clouddocs-header"></div>

    <div id="sidebar" class="section-nav">
      
      <!--  version selector ------------------>
      <div id="version_selector_wrapper">
      </div>
      <nav class="nav-sidebartoc">

        
         <h5>F5 Web Application Firewall Solutions  </h5>
        

        <hr>
        <span class="nav-sidebartoc">
            <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../waf102/waf102.html">WAF 102 - Getting started with WAF, Bot Detection and Threat Campaigns</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../waf111/waf111.html">WAF 111 - Protecting Yourself Against the OWASP Top 10</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../waf201/waf201.html">WAF 201 – Elevated WAF Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../waf2023/waf2023.html">WAF 101 - BIG-IP Security:  Mitigating App Vulnerabilities with AWAF</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../waf301.html">WAF 301 - AWAF in a CI/CD Pipeline (Self Guided)</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../waf301.html#intro">Intro</a></li>
<li class="toctree-l2"><a class="reference internal" href="../waf301.html#awaf-policy-overview">AWAF policy overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../waf301.html#chatops">ChatOps</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../waf301.html#lab-structure">Lab structure</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../labinfo/labinfo.html">Lab Environment &amp; Topology</a></li>
<li class="toctree-l3"><a class="reference internal" href="../module1/module1.html">Module 1: AWAF Policy Template Creation on BIG-IP (secops engineer)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../module2/module2.html">Module 2: Policy testing - Intro to f5 WAF Tester (secops engineer)</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="module3.html">Module 3: Pipeline integration (SRE)</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../waf302/waf302.html">WAF 302 - Enabling API Protection with APM and AWAF</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../waf341/waf341.html">WAF 341 – Advanced Protection and Positive Security (Self Guided)</a></li>
</ul>

        </span><!-- Use this file to add extra links to the bottom of the ToC sidebar -->
<hr>
  <span class="nav-sidebartoc">
 <!-- insert content here -->
  </span>
      </nav>
    </div>


    <div id="right-sidebar">
      <h7 style="font-weight:normal">On this page:</h7>
      <nav class="nav-sidebartoc">
        <span class="nav-sidebartoc">
            <ul>
<li><a class="reference internal" href="#">Lab 3.3: Deploy Juice-shop Web App to Production ENV and run DAST</a><ul>
<li><a class="reference internal" href="#deploy-juice-shop-app-to-production">3.3.1 Deploy Juice-Shop App to Production</a><ul>
<li><a class="reference internal" href="#tag-the-repo-in-gitlab">3.3.2 Tag the repo in gitlab</a></li>
<li><a class="reference internal" href="#pipeline-progress">3.3.3 Pipeline progress</a></li>
<li><a class="reference internal" href="#connect-to-production-juice-shop-app">3.3.4 Connect to Production Juice-Shop App</a></li>
</ul>
</li>
<li><a class="reference internal" href="#pipeline-summary">Pipeline Summary</a></li>
</ul>
</li>
</ul>

         </span>
      </nav>
    </div>





  
  <div class="main active" id="content" >
    <article class="docs-container site-article-inner">
              <!-- custom breadcrumb -->
        <h5>
            <a href="../../index.html">F5 Web Application Firewall Solutions</a>
              &gt; <a href="../waf301.html">WAF 301 - AWAF in a CI/CD Pipeline (Self Guided)</a>
              &gt; <a href="module3.html">Module 3: Pipeline integration (SRE)</a>

          <span class="right">
             <a href="../../_sources/waf301/module3/lab3.rst.txt" rel="nofollow">Source</a> |
             <a href="https://github.com/f5devcentral/f5-agility-labs-waf">Edit on <i class="fa fa-github" aria-hidden="true"></i></a>
          </span>
        </h5>
        <!-- end custom breadcrumb -->
      


    <!--a title="Export PDF" id="export-pdf" class="btn btn btn-link pull-right">View PDF</a-->
    <button type="button" id="export-pdf" class="btn btn-link right">PDF</button>


    
     
         <div class="sidebar" id="version-warning" style="display: none;">
           <p class="first sidebar-title">
           <span class="icon fa fa-info-circle fa-lg"></span> Version notice:</p>
           <p class="last" id="currentVersion"></p>
          </div>


     <div role="main">
        
  <div class="section" id="lab-3-3-deploy-juice-shop-web-app-to-production-env-and-run-dast">
<h1>Lab 3.3: Deploy Juice-shop Web App to Production ENV and run DAST<a class="headerlink" href="#lab-3-3-deploy-juice-shop-web-app-to-production-env-and-run-dast" title="Permalink to this heading">¶</a></h1>
<div class="section" id="deploy-juice-shop-app-to-production">
<span id="lab3"></span><h2>3.3.1 Deploy Juice-Shop App to Production<a class="headerlink" href="#deploy-juice-shop-app-to-production" title="Permalink to this heading">¶</a></h2>
<p>Production deployment is triggered by creating a Tag.
This is a common development practice that allows tagging and simultaneous release/delivery of the App code into Production environment.
You can read a bit more about deployment strategies at <a href="https://dev.to/mostlyjason/intro-to-deployment-strategies-blue-green-canary-and-more-3a3" target="_blank">Intro to deployment strategies</a> or similar websites</p>
<p><strong>Why do we use tags?</strong></p>
<ul class="simple">
<li>Useful for marking deployments and releases</li>
<li>Annotated tags are an unchangeable part of Git history</li>
<li>Soft/lightweight tags can be set and removed at will</li>
<li>Many projects combine an annotated release tag with a stable branch</li>
<li>Consider setting deployment/release tags automatically</li>
</ul>
<p>More on tagging at <a href="https://git-scm.com/book/en/v2/Git-Basics-Tagging" target="_blank">Git Basics - Tagging</a></p>
<div class="section" id="tag-the-repo-in-gitlab">
<h3>3.3.2 Tag the repo in gitlab<a class="headerlink" href="#tag-the-repo-in-gitlab" title="Permalink to this heading">¶</a></h3>
<p><span class="guilabel">client RDP</span> -&gt; <span class="guilabel">firefox</span> -&gt; <span class="guilabel">waf-301</span> -&gt; <span class="guilabel">GitLab</span></p>
<p>Click on <span class="guilabel">waflabs / waf_cicd</span> Project</p>
<p>Navigate to <span class="guilabel">Repository</span> -&gt; <span class="guilabel">Tags</span> and click on <span class="guilabel">New tag</span></p>
<img alt="../../_images/tags.png" src="../../_images/tags.png" />
<p>Fill out a <strong>Tag name</strong> field and click on <span class="guilabel">Create tag</span>. You can use <strong>prod-v1.0</strong> as suggested Tag name.</p>
<img alt="../../_images/new_tag.png" src="../../_images/new_tag.png" />
</div>
<div class="section" id="pipeline-progress">
<h3>3.3.3 Pipeline progress<a class="headerlink" href="#pipeline-progress" title="Permalink to this heading">¶</a></h3>
<p>Navigate to <span class="guilabel">CI / CD</span> -&gt; <span class="guilabel">Pipelines</span> and click on the pipeline that is currently running and has a <strong>Commit</strong> message set to a Tag name created in previous step</p>
</div>
<div class="section" id="connect-to-production-juice-shop-app">
<h3>3.3.4 Connect to Production Juice-Shop App<a class="headerlink" href="#connect-to-production-juice-shop-app" title="Permalink to this heading">¶</a></h3>
<p>Upon successful pipeline completion you can access Juice-Shop App by selecting <span class="guilabel">firefox</span> –&gt; <span class="guilabel">favorites</span> –&gt; <span class="guilabel">WAF-301</span> –&gt; <span class="guilabel">Production</span> –&gt; <span class="guilabel">OWASP juice shop - PRODUCTION</span></p>
</div>
</div>
<div class="section" id="pipeline-summary">
<h2>Pipeline Summary<a class="headerlink" href="#pipeline-summary" title="Permalink to this heading">¶</a></h2>
<dl class="docutils">
<dt>Demonstrated pipeline uses same WAF Policy for Production as it did for Staging environment, making both environments identical from the security perspective. Additionally, Production pipeline uses DAST testing to rule out any runtime vulnerabilities.</dt><dd><ul class="simple">
<li>Deploy WAF Policy</li>
<li>Test and update policy as necessary</li>
<li>Repeat</li>
</ul>
</dd>
</dl>
<p>What’s Next?</p>
</div>
</div>


     </div>
    
     <div class="row next-prev-btn-row">
       <div class="col-lg-12">
       
        <a href="lab2.html" title="Lab 3.2: Apply WAF suggestions for trusted traffic" accesskey="p" class="btn btn-primary left"><i class="fa fa-arrow-circle-left" aria-hidden="true"></i> Previous</a>
       
       
          <a href="review.html" title="Review" accesskey="n" class="btn btn-primary right">Next <i class="fa fa-arrow-circle-right" aria-hidden="true"></i></a>
       
     </div>
     </div>
    

    </article>
  </div>

</div>


  <div id="clouddocs-footer"></div>
  <!-- Bootstrap core JavaScript
  ================================================== -->
  <!-- Placed at the end of the document so the pages load faster -->

  <script src="../../_static/js/index.js"></script>
  <script src="../../_static/js/jquery.appear.js"></script>
  <script src="../../_static/js/printThis.js"></script>
  <script src="../../_static/js/bootstrap.min.js"></script>
  <script src="../../_static/js/clouddocs.js"></script>
  <script src="../../_static/js/CoveoJsSearch.Lazy.min.js"></script>
  </body>
</html>